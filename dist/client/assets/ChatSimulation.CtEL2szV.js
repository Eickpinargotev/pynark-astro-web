import{c as P,j as e}from"./createLucideIcon.C6V8OSr9.js";import{r as t}from"./index.RH_Wq4ov.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B=P("chevron-left",q),y=[{id:"inventario-pagos",title:"Inventario y pagos",messages:[{content:"¿Tienen disponible la cafetera modelo X?",isUser:!0},{content:"Sí, contamos con 5 en inventario. Puedes pagar en efectivo, tarjeta o transferencia.",isUser:!1},{content:"Perfecto, la quiero con pago por tarjeta.",isUser:!0},{content:"Listo, he reservado tu cafetera y actualizado el inventario.",isUser:!1}]},{id:"precios-dinamicos",title:"Precios dinámicos",messages:[{content:"¿Cuánto cuesta la pizza familiar si pago con tarjeta?",isUser:!0},{content:"Con tarjeta el precio es $180, en efectivo serían $170.",isUser:!1},{content:"Entonces la pido con efectivo.",isUser:!0},{content:"Perfecto, registré tu pedido con el precio de $170.",isUser:!1}]},{id:"quejas-reportes",title:"Quejas y reportes",messages:[{content:"La entrega llegó fría y tarde.",isUser:!0},{content:"Lamento mucho la experiencia. He generado un reporte automático para administración.",isUser:!1},{content:"Gracias, espero mejor atención la próxima.",isUser:!0},{content:"Claro que sí, tu comentario ayudará a mejorar nuestro servicio.",isUser:!1}]},{id:"alertas-atencion",title:"Alertas de atención",messages:[{content:"Quiero cancelar mi pedido y pedir reembolso.",isUser:!0},{content:"Entiendo, este caso requiere atención especial. He enviado una alerta a tu administrador en Telegram.",isUser:!1},{content:"Ah perfecto, esperaré la respuesta.",isUser:!0},{content:"Gracias por tu paciencia, pronto te contactarán.",isUser:!1}]},{id:"faq-negocio",title:"FAQ del negocio",messages:[{content:"¿Dónde están ubicados y cuál es su horario?",isUser:!0},{content:"Estamos en Av. Central 123 y abrimos de 9 am a 9 pm, todos los días.",isUser:!1},{content:"¿Y qué garantía tienen los productos?",isUser:!0},{content:"Todos cuentan con garantía de 30 días por defectos de fábrica.",isUser:!1}]}],G=({className:C=""})=>{const[r,$]=t.useState(0),[n,f]=t.useState(0),[k,c]=t.useState(!1),[o,N]=t.useState(!0),[d,z]=t.useState(!1),[u,m]=t.useState(!0),[T,D]=t.useState(!1),[U,i]=t.useState(!1),[E,l]=t.useState(""),p=t.useRef([]);t.useEffect(()=>{const s=()=>{const a=window.innerWidth<1024;D(a),m(!a)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const b=t.useRef(null),v=t.useRef(null),S=()=>{p.current.forEach(s=>clearTimeout(s)),p.current=[]},x=s=>(p.current.push(s),s);t.useEffect(()=>{const s=new IntersectionObserver(([a])=>{z(a.isIntersecting)},{threshold:.5,rootMargin:"0px 0px -100px 0px"});return b.current&&s.observe(b.current),()=>s.disconnect()},[]),t.useEffect(()=>()=>{S()},[]),t.useEffect(()=>{d&&o&&v.current&&v.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[n,k,d,o]),t.useEffect(()=>{if(!o)return;console.log("Simulation running:",{selectedDemo:r,currentMessageIndex:n,isVisible:d,isPlaying:o});const s=y[r];if(n>=s.messages.length){const g=x(setTimeout(()=>{f(0),l(""),i(!1),c(!1)},3e3));return()=>clearTimeout(g)}const a=s.messages[n];if(a.isUser){l(""),i(!1),c(!1);const g=x(setTimeout(()=>{i(!0);const h=a.content;let w=0;const M=()=>{w<h.length?(l(h.substring(0,w+1)),w++,x(setTimeout(M,50+Math.random()*50))):x(setTimeout(()=>{l(""),i(!1),f(A=>A+1)},800))};M()},1e3));return()=>clearTimeout(g)}else{l(""),i(!1),c(!0);const g=x(setTimeout(()=>{c(!1),f(h=>h+1)},1500+Math.random()*1e3));return()=>clearTimeout(g)}},[r,n,d,o]);const L=s=>{N(!1),S(),l(""),i(!1),c(!1),f(0),$(s);const a=setTimeout(()=>{N(!0)},200);p.current=[a],T&&m(!1)},R=()=>{m(!u)},j=y[r],I=j.messages.slice(0,n);return console.log("Render debug:",{selectedDemo:r,currentMessageIndex:n,totalMessages:j.messages.length,visibleCount:I.length,isVisible:d,isPlaying:o}),e.jsx("div",{ref:b,className:`relative ${C}`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 relative",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 dark:border-slate-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 px-6 py-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/assets/pynark_favicon.png",alt:"Pynark Agent",className:"w-8 h-8 rounded-full bg-white/20 p-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Agente E-commerce"}),e.jsxs("p",{className:"text-primary-100 text-sm",children:["Simulación: ",j.title]})]})]})}),e.jsxs("div",{className:"h-80 overflow-y-auto p-4 space-y-4",children:[I.map((s,a)=>e.jsx("div",{className:`flex ${s.isUser?"justify-end":"justify-start"} animate-fade-in`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${s.isUser?"bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-br-sm":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-bl-sm"}`,children:e.jsx("p",{className:"text-sm leading-relaxed",children:s.content})})},`${r}-${a}`)),k&&e.jsx("div",{className:"flex justify-start animate-fade-in",children:e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-2xl rounded-bl-sm px-4 py-2 flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"escribiendo..."})]})}),e.jsx("div",{ref:v})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:E,placeholder:"",disabled:!0,className:`flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl ${U?"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} cursor-not-allowed`}),e.jsx("button",{disabled:!0,className:`px-4 py-2 rounded-xl cursor-not-allowed min-h-12 min-w-12 flex items-center justify-center transition-colors ${U&&E.length>0?"bg-gradient-to-r from-primary-500 to-primary-600 text-white":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})}),u&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>m(!1)}),e.jsxs("div",{className:"lg:w-64 lg:relative",children:[!u&&T&&e.jsx("button",{onClick:R,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 bg-white/30 dark:bg-slate-800/30 backdrop-blur-sm rounded-l-xl shadow-md border border-r-0 border-white/20 dark:border-slate-700/30 p-3 transition-all duration-300 hover:bg-white/50 dark:hover:bg-slate-800/50","aria-label":"Mostrar opciones de chat",children:e.jsx(B,{className:"w-5 h-5 text-slate-600/70 dark:text-slate-400/70"})}),e.jsx("div",{className:`transition-all duration-300 ease-in-out ${u?"block lg:block":"hidden lg:block"} ${u?"absolute top-0 right-0 z-50 w-80 lg:relative lg:w-64":"lg:relative lg:w-64"}`,children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 dark:border-slate-700/50 p-4 max-h-96 overflow-y-auto",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Ejemplos de Casos"}),e.jsx("div",{className:"space-y-2",children:y.map((s,a)=>e.jsxs("button",{onClick:()=>L(a),className:`w-full text-left p-3 rounded-xl transition-all duration-200 ${r===a?"bg-gradient-to-r from-primary-500 to-secondary-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:s.title}),e.jsxs("div",{className:`text-xs mt-1 ${r===a?"text-primary-100":"text-slate-500 dark:text-slate-400"}`,children:[s.messages.length," mensajes"]})]},s.id))})]})})]})]})})};export{G as default};
